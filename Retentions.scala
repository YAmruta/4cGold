
import scala.concurrent.duration._

import io.gatling.core.Predef._
import io.gatling.http.Predef._
import io.gatling.jdbc.Predef._

class Retentions extends Simulation {

	val httpProtocol = http
		.baseUrl("https://bam.eu01.nr-data.net")
		.inferHtmlResources(BlackList(""".*\.js""", """.*\.css""", """.*\.gif""", """.*\.jpeg""", """.*\.jpg""", """.*\.ico""", """.*\.woff""", """.*\.woff2""", """.*\.(t|o)tf""", """.*\.png""", """.*detectportal\.firefox\.com.*"""), WhiteList())
		.acceptHeader("*/*")
		.acceptEncodingHeader("gzip, deflate")
		.acceptLanguageHeader("en-GB,en;q=0.9")
		.doNotTrackHeader("1")
		.userAgentHeader("Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.192 Safari/537.36")

	val headers_0 = Map(
		"Origin" -> "https://www.4cgold.co.uk",
		"Sec-Fetch-Dest" -> "empty",
		"Sec-Fetch-Mode" -> "cors",
		"Sec-Fetch-Site" -> "cross-site",
		"content-type" -> "text/plain")

	val headers_1 = Map(
		"accept" -> "text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9",
		"origin" -> "https://www.4cgold.co.uk",
		"sec-fetch-dest" -> "document",
		"sec-fetch-mode" -> "navigate",
		"sec-fetch-site" -> "same-origin",
		"sec-fetch-user" -> "?1",
		"upgrade-insecure-requests" -> "1")

	val headers_2 = Map(
		"Sec-Fetch-Dest" -> "script",
		"Sec-Fetch-Mode" -> "no-cors",
		"Sec-Fetch-Site" -> "cross-site")

    val uri2 = "https://www.4cgold.co.uk/admin.php"

	val scn = scenario("Retentions")
		.exec(http("request_0")
			.post("/events/1/NRJS-0d5a822fa20598b22f8?a=142081718&v=1198.fe6ec20&to=MhBSZQoZWRFYARBQCQtaZUMRV1YGVAsKFxYNBQ%3D%3D&rst=10115&ck=1&ref=https://www.4cgold.co.uk/admin.php")
			.headers(headers_0)
			.body(RawFileBody("/retentions/0000_request.txt")))
		.pause(2)
		.exec(http("request_1")
			.post(uri2)
			.headers(headers_1)
			.formParam("action", "none")
			.resources(http("request_2")
			.get("/1/NRJS-0d5a822fa20598b22f8?a=142081718&v=1198.fe6ec20&to=MhBSZQoZWRFYARBQCQtaZUMRV1YGVAsKFxYNBQ%3D%3D&rst=193&ck=1&ref=https://www.4cgold.co.uk/admin.php&ap=21&be=152&fe=162&dc=161&perf=%7B%22timing%22:%7B%22of%22:1614338086326,%22n%22:0,%22u%22:66,%22ue%22:67,%22f%22:1,%22dn%22:1,%22dne%22:1,%22c%22:1,%22ce%22:1,%22rq%22:4,%22rp%22:60,%22rpe%22:62,%22dl%22:68,%22di%22:160,%22ds%22:160,%22de%22:162,%22dc%22:162,%22l%22:162,%22le%22:163%7D,%22navigation%22:%7B%7D%7D&fp=156&fcp=156&at=HldRE0IDSh8%3D&jsonp=NREUM.setToken")
			.headers(headers_2)))
		.pause(9)
		.exec(http("request_3")
			.post("/events/1/NRJS-0d5a822fa20598b22f8?a=142081718&v=1198.fe6ec20&to=MhBSZQoZWRFYARBQCQtaZUMRV1YGVAsKFxYNBQ%3D%3D&rst=10194&ck=1&ref=https://www.4cgold.co.uk/admin.php")
			.headers(headers_0)
			.body(RawFileBody("/retentions/0003_request.txt")))
		.pause(5)
		.exec(http("initial_email_address_login")
			.post(uri2)
			.headers(headers_1)
			.formParam("action", "initial_email_address_login")
			.formParam("email_address_login", "amruta.yembuluru@usaycompare.com")
			.resources(http("request_5")
			.get("/1/NRJS-0d5a822fa20598b22f8?a=142081718&v=1198.fe6ec20&to=MhBSZQoZWRFYARBQCQtaZUMRV1YGVAsKFxYNBQ%3D%3D&rst=239&ck=1&ref=https://www.4cgold.co.uk/admin.php&ap=44&be=194&fe=207&dc=204&perf=%7B%22timing%22:%7B%22of%22:1614338101652,%22n%22:0,%22u%22:106,%22ue%22:106,%22f%22:4,%22dn%22:4,%22dne%22:4,%22c%22:4,%22ce%22:4,%22rq%22:11,%22rp%22:92,%22rpe%22:99,%22dl%22:108,%22di%22:203,%22ds%22:203,%22de%22:205,%22dc%22:206,%22l%22:206,%22le%22:207%7D,%22navigation%22:%7B%7D%7D&fp=199&fcp=199&at=HldRE0IDSh8%3D&jsonp=NREUM.setToken")
			.headers(headers_2)))
		.pause(2)
		.exec(http("username")
			.post(uri2)
			.headers(headers_1)
			.formParam("action", "login")
			.formParam("username", "usay")
			.formParam("password", "usay")
			.resources(http("request_7")
			.get("/1/NRJS-0d5a822fa20598b22f8?a=142081718&v=1198.fe6ec20&to=MhBSZQoZWRFYARBQCQtaZUMRV1YGVAsKFxYNBQ%3D%3D&rst=638&ck=1&ref=https://www.4cgold.co.uk/admin.php&ap=323&be=510&fe=614&dc=576&perf=%7B%22timing%22:%7B%22of%22:1614338104661,%22n%22:0,%22u%22:422,%22ue%22:423,%22f%22:3,%22dn%22:3,%22dne%22:3,%22c%22:3,%22ce%22:3,%22rq%22:7,%22rp%22:408,%22rpe%22:418,%22dl%22:425,%22di%22:575,%22ds%22:575,%22de%22:579,%22dc%22:614,%22l%22:614,%22le%22:615%7D,%22navigation%22:%7B%7D%7D&fp=524&fcp=524&at=HldRE0IDSh8%3D&jsonp=NREUM.setToken")
			.headers(headers_2)))
		.pause(2)
		.exec(http("Retentions_Panel")
			.post(uri2)
			.headers(headers_1)
			.formParam("action", "show_new_cancel_panel")
			.formParam("x", "45")
			.formParam("y", "51")
			.resources(http("request_9")
			.get("/1/NRJS-0d5a822fa20598b22f8?a=142081718&v=1198.fe6ec20&to=MhBSZQoZWRFYARBQCQtaZUMRV1YGVAsKFxYNBQ%3D%3D&rst=798&ck=1&ref=https://www.4cgold.co.uk/admin.php&ap=366&be=672&fe=768&dc=726&perf=%7B%22timing%22:%7B%22of%22:1614338107652,%22n%22:0,%22u%22:585,%22ue%22:585,%22f%22:3,%22dn%22:3,%22dne%22:3,%22c%22:3,%22ce%22:3,%22rq%22:9,%22rp%22:566,%22rpe%22:581,%22dl%22:590,%22di%22:724,%22ds%22:724,%22de%22:729,%22dc%22:768,%22l%22:768,%22le%22:770%7D,%22navigation%22:%7B%7D%7D&fp=685&fcp=685&at=HldRE0IDSh8%3D&jsonp=NREUM.setToken")
			.headers(headers_2)))
		.pause(2)
		.exec(http("request_10")
			.post(uri2)
			.headers(headers_1)
			.formParam("action", "show_cancellations")
			.formParam("x", "74")
			.formParam("y", "27")
			.resources(http("request_11")
			.get("/1/NRJS-0d5a822fa20598b22f8?a=142081718&v=1198.fe6ec20&to=MhBSZQoZWRFYARBQCQtaZUMRV1YGVAsKFxYNBQ%3D%3D&rst=782&ck=1&ref=https://www.4cgold.co.uk/admin.php&ap=466&be=620&fe=751&dc=739&perf=%7B%22timing%22:%7B%22of%22:1614338111161,%22n%22:0,%22u%22:524,%22ue%22:525,%22f%22:3,%22dn%22:3,%22dne%22:3,%22c%22:3,%22ce%22:3,%22rq%22:10,%22rp%22:508,%22rpe%22:527,%22dl%22:531,%22di%22:735,%22ds%22:735,%22de%22:746,%22dc%22:750,%22l%22:750,%22le%22:752%7D,%22navigation%22:%7B%7D%7D&fp=634&fcp=634&at=HldRE0IDSh8%3D&jsonp=NREUM.setToken")
			.headers(headers_2)))
		.pause(9)
		.exec(http("request_12")
			.post("/events/1/NRJS-0d5a822fa20598b22f8?a=142081718&v=1198.fe6ec20&to=MhBSZQoZWRFYARBQCQtaZUMRV1YGVAsKFxYNBQ%3D%3D&rst=10783&ck=1&ref=https://www.4cgold.co.uk/admin.php")
			.headers(headers_0)
			.body(RawFileBody("/retentions/0012_request.txt")))
		.pause(4)
		.exec(http("show_cancellations159")
			.post(uri2)
			.headers(headers_1)
			.formParam("action", "show_cancellations")
			.formParam("ssmonth", "159")
			.formParam("many_months", "1")
			.formParam("provider", "0")
			.formParam("filter_list", "1")
			.formParam("policy_type_id", "0")
			.formParam("adviser_id", "0")
			.formParam("cancel_r", "none")
			.formParam("source_id", "0")
			.formParam("policy_style_id", "0"))
		.pause(3)
		.exec(http("request_14")
			.get("/1/NRJS-0d5a822fa20598b22f8?a=142081718&v=1198.fe6ec20&to=MhBSZQoZWRFYARBQCQtaZUMRV1YGVAsKFxYNBQ%3D%3D&rst=5357&ck=1&ref=https://www.4cgold.co.uk/admin.php&ap=782&be=1143&fe=5303&dc=2791&perf=%7B%22timing%22:%7B%22of%22:1614338126712,%22n%22:0,%22u%22:1052,%22ue%22:1052,%22f%22:3,%22dn%22:3,%22dne%22:3,%22c%22:3,%22ce%22:3,%22rq%22:10,%22rp%22:1032,%22rpe%22:2184,%22dl%22:1059,%22di%22:2698,%22ds%22:2698,%22de%22:2811,%22dc%22:5302,%22l%22:5302,%22le%22:5307%7D,%22navigation%22:%7B%7D%7D&fp=1157&fcp=1157&at=HldRE0IDSh8%3D&jsonp=NREUM.setToken")
			.headers(headers_2))
		.pause(9)
		.exec(http("request_15")
			.post("/events/1/NRJS-0d5a822fa20598b22f8?a=142081718&v=1198.fe6ec20&to=MhBSZQoZWRFYARBQCQtaZUMRV1YGVAsKFxYNBQ%3D%3D&rst=15361&ck=1&ref=https://www.4cgold.co.uk/admin.php")
			.headers(headers_0)
			.body(RawFileBody("/retentions/0015_request.txt")))
		.pause(1)
		.exec(http("show_cancellations147")
			.post(uri2)
			.headers(headers_1)
			.formParam("action", "show_cancellations")
			.formParam("ssmonth", "147")
			.formParam("many_months", "1")
			.formParam("provider", "0")
			.formParam("filter_list", "1")
			.formParam("policy_type_id", "0")
			.formParam("adviser_id", "0")
			.formParam("cancel_r", "none")
			.formParam("source_id", "0")
			.formParam("policy_style_id", "0"))
		.pause(1)
		.exec(http("request_17")
			.get("/1/NRJS-0d5a822fa20598b22f8?a=142081718&v=1198.fe6ec20&to=MhBSZQoZWRFYARBQCQtaZUMRV1YGVAsKFxYNBQ%3D%3D&rst=3697&ck=1&ref=https://www.4cgold.co.uk/admin.php&ap=992&be=1333&fe=3410&dc=3365&perf=%7B%22timing%22:%7B%22of%22:1614338143359,%22n%22:0,%22u%22:1220,%22ue%22:1220,%22f%22:2,%22dn%22:2,%22dne%22:2,%22c%22:2,%22ce%22:2,%22rq%22:7,%22rp%22:1197,%22rpe%22:2599,%22dl%22:1248,%22di%22:3142,%22ds%22:3143,%22de%22:3392,%22dc%22:3408,%22l%22:3408,%22le%22:3418%7D,%22navigation%22:%7B%7D%7D&fp=1349&fcp=1349&at=HldRE0IDSh8%3D&jsonp=NREUM.setToken")
			.headers(headers_2))
		.pause(6)
		.exec(http("show_cancellations135")
			.post(uri2)
			.headers(headers_1)
			.formParam("action", "show_cancellations")
			.formParam("ssmonth", "135")
			.formParam("many_months", "1")
			.formParam("provider", "0")
			.formParam("filter_list", "1")
			.formParam("policy_type_id", "0")
			.formParam("adviser_id", "0")
			.formParam("cancel_r", "none")
			.formParam("source_id", "0")
			.formParam("policy_style_id", "0"))
		.pause(1)
		.exec(http("request_19")
			.get("/1/NRJS-0d5a822fa20598b22f8?a=142081718&v=1198.fe6ec20&to=MhBSZQoZWRFYARBQCQtaZUMRV1YGVAsKFxYNBQ%3D%3D&rst=3037&ck=1&ref=https://www.4cgold.co.uk/admin.php&ap=956&be=1166&fe=2795&dc=2755&perf=%7B%22timing%22:%7B%22of%22:1614338153203,%22n%22:0,%22u%22:1038,%22ue%22:1039,%22f%22:3,%22dn%22:3,%22dne%22:3,%22c%22:3,%22ce%22:3,%22rq%22:8,%22rp%22:1021,%22rpe%22:1989,%22dl%22:1084,%22di%22:2595,%22ds%22:2595,%22de%22:2780,%22dc%22:2794,%22l%22:2794,%22le%22:2803%7D,%22navigation%22:%7B%7D%7D&fp=1178&fcp=1178&at=HldRE0IDSh8%3D&jsonp=NREUM.setToken")
			.headers(headers_2))
		.pause(9)
		.exec(http("show_cancellations123")
			.post("/events/1/NRJS-0d5a822fa20598b22f8?a=142081718&v=1198.fe6ec20&to=MhBSZQoZWRFYARBQCQtaZUMRV1YGVAsKFxYNBQ%3D%3D&rst=13038&ck=1&ref=https://www.4cgold.co.uk/admin.php")
			.headers(headers_0)
			.body(RawFileBody("/retentions/0020_request.txt"))
			.resources(http("request_21")
			.post(uri2)
			.headers(headers_1)
			.formParam("action", "show_cancellations")
			.formParam("ssmonth", "123")
			.formParam("many_months", "1")
			.formParam("provider", "0")
			.formParam("filter_list", "1")
			.formParam("policy_type_id", "0")
			.formParam("adviser_id", "0")
			.formParam("cancel_r", "none")
			.formParam("source_id", "0")
			.formParam("policy_style_id", "0"),
            http("request_22")
			.get("/1/NRJS-0d5a822fa20598b22f8?a=142081718&v=1198.fe6ec20&to=MhBSZQoZWRFYARBQCQtaZUMRV1YGVAsKFxYNBQ%3D%3D&rst=2549&ck=1&ref=https://www.4cgold.co.uk/admin.php&ap=838&be=1030&fe=2341&dc=2283&perf=%7B%22timing%22:%7B%22of%22:1614338167232,%22n%22:0,%22u%22:910,%22ue%22:911,%22f%22:6,%22dn%22:6,%22dne%22:6,%22c%22:6,%22ce%22:6,%22rq%22:13,%22rp%22:888,%22rpe%22:1605,%22dl%22:945,%22di%22:2180,%22ds%22:2181,%22de%22:2303,%22dc%22:2341,%22l%22:2341,%22le%22:2347%7D,%22navigation%22:%7B%7D%7D&fp=1042&fcp=1042&at=HldRE0IDSh8%3D&jsonp=NREUM.setToken")
			.headers(headers_2)))
		.pause(6)
		.exec(http("Retentions_Panel2")
			.post(uri2)
			.headers(headers_1)
			.formParam("action", "show_new_cancel_panel")
			.formParam("x", "33")
			.formParam("y", "30")
			.resources(http("request_24")
			.get("/1/NRJS-0d5a822fa20598b22f8?a=142081718&v=1198.fe6ec20&to=MhBSZQoZWRFYARBQCQtaZUMRV1YGVAsKFxYNBQ%3D%3D&rst=747&ck=1&ref=https://www.4cgold.co.uk/admin.php&ap=367&be=634&fe=722&dc=715&perf=%7B%22timing%22:%7B%22of%22:1614338176570,%22n%22:0,%22u%22:519,%22ue%22:520,%22f%22:3,%22dn%22:3,%22dne%22:3,%22c%22:3,%22ce%22:3,%22rq%22:10,%22rp%22:505,%22rpe%22:666,%22dl%22:551,%22di%22:712,%22ds%22:713,%22de%22:719,%22dc%22:721,%22l%22:721,%22le%22:723%7D,%22navigation%22:%7B%7D%7D&fp=640&fcp=640&at=HldRE0IDSh8%3D&jsonp=NREUM.setToken")
			.headers(headers_2)))
		.pause(9)
		.exec(http("show_cancellations_adviser")
			.post("/events/1/NRJS-0d5a822fa20598b22f8?a=142081718&v=1198.fe6ec20&to=MhBSZQoZWRFYARBQCQtaZUMRV1YGVAsKFxYNBQ%3D%3D&rst=10751&ck=1&ref=https://www.4cgold.co.uk/admin.php")
			.headers(headers_0)
			.body(RawFileBody("/retentions/0025_request.txt"))
			.resources(http("request_26")
			.post(uri2)
			.headers(headers_1)
			.formParam("action", "show_cancellations_adviser")
			.formParam("x", "32")
			.formParam("y", "28")))
		.pause(2)
		.exec(http("request_27")
			.get("/1/NRJS-0d5a822fa20598b22f8?a=142081718&v=1198.fe6ec20&to=MhBSZQoZWRFYARBQCQtaZUMRV1YGVAsKFxYNBQ%3D%3D&rst=11161&ck=1&ref=https://www.4cgold.co.uk/admin.php&ap=7880&be=8230&fe=11140&dc=8628&perf=%7B%22timing%22:%7B%22of%22:1614338183132,%22n%22:0,%22u%22:8136,%22ue%22:8136,%22f%22:4,%22dn%22:4,%22dne%22:4,%22c%22:4,%22ce%22:4,%22rq%22:11,%22rp%22:8123,%22rpe%22:8608,%22dl%22:8141,%22di%22:8622,%22ds%22:8622,%22de%22:8637,%22dc%22:11139,%22l%22:11139,%22le%22:11142%7D,%22navigation%22:%7B%7D%7D&fp=8243&fcp=8243&at=HldRE0IDSh8%3D&jsonp=NREUM.setToken")
			.headers(headers_2))
		.pause(9)
		.exec(http("request_28")
			.post("/events/1/NRJS-0d5a822fa20598b22f8?a=142081718&v=1198.fe6ec20&to=MhBSZQoZWRFYARBQCQtaZUMRV1YGVAsKFxYNBQ%3D%3D&rst=21163&ck=1&ref=https://www.4cgold.co.uk/admin.php")
			.headers(headers_0)
			.body(RawFileBody("/retentions/0028_request.txt")))
		.pause(9)
		.exec(http("show_cancellations_adviser158")
			.post(uri2)
			.headers(headers_1)
			.formParam("action", "show_cancellations_adviser")
			.formParam("ssmonth", "158")
			.formParam("many_months", "12")
			.formParam("provider", "0")
			.formParam("start_style", "1")
			.formParam("policy_type_id", "0")
			.formParam("adviser_id", "0"))
		.pause(1)
		.exec(http("request_30")
			.get("/1/NRJS-0d5a822fa20598b22f8?a=142081718&v=1198.fe6ec20&to=MhBSZQoZWRFYARBQCQtaZUMRV1YGVAsKFxYNBQ%3D%3D&rst=48031&ck=1&ref=https://www.4cgold.co.uk/admin.php&ap=46643&be=46814&fe=48008&dc=47022&perf=%7B%22timing%22:%7B%22of%22:1614338213716,%22n%22:0,%22u%22:46709,%22ue%22:46710,%22f%22:3,%22dn%22:3,%22dne%22:3,%22c%22:3,%22ce%22:3,%22rq%22:9,%22rp%22:46687,%22rpe%22:46708,%22dl%22:46721,%22di%22:47018,%22ds%22:47018,%22de%22:47028,%22dc%22:48008,%22l%22:48008,%22le%22:48011%7D,%22navigation%22:%7B%7D%7D&fp=46829&fcp=46829&at=HldRE0IDSh8%3D&jsonp=NREUM.setToken")
			.headers(headers_2))
		.pause(9)
		.exec(http("show_cancellations_adviser146")
			.post("/events/1/NRJS-0d5a822fa20598b22f8?a=142081718&v=1198.fe6ec20&to=MhBSZQoZWRFYARBQCQtaZUMRV1YGVAsKFxYNBQ%3D%3D&rst=58037&ck=1&ref=https://www.4cgold.co.uk/admin.php")
			.headers(headers_0)
			.body(RawFileBody("/retentions/0031_request.txt"))
			.resources(http("request_32")
			.post(uri2)
			.headers(headers_1)
			.formParam("action", "show_cancellations_adviser")
			.formParam("ssmonth", "146")
			.formParam("many_months", "12")
			.formParam("provider", "0")
			.formParam("start_style", "1")
			.formParam("policy_type_id", "0")
			.formParam("adviser_id", "0")))
		.pause(1)
		.exec(http("request_33")
			.get("/1/NRJS-0d5a822fa20598b22f8?a=142081718&v=1198.fe6ec20&to=MhBSZQoZWRFYARBQCQtaZUMRV1YGVAsKFxYNBQ%3D%3D&rst=25101&ck=1&ref=https://www.4cgold.co.uk/admin.php&ap=23306&be=23598&fe=25089&dc=24171&perf=%7B%22timing%22:%7B%22of%22:1614338270990,%22n%22:0,%22u%22:23499,%22ue%22:23499,%22f%22:4,%22dn%22:4,%22dne%22:4,%22c%22:4,%22ce%22:4,%22rq%22:12,%22rp%22:23485,%22rpe%22:24041,%22dl%22:23509,%22di%22:24166,%22ds%22:24167,%22de%22:24178,%22dc%22:25088,%22l%22:25088,%22le%22:25090%7D,%22navigation%22:%7B%7D%7D&fp=23611&fcp=23611&at=HldRE0IDSh8%3D&jsonp=NREUM.setToken")
			.headers(headers_2))
		.pause(9)
		.exec(http("request_34")
			.post("/events/1/NRJS-0d5a822fa20598b22f8?a=142081718&v=1198.fe6ec20&to=MhBSZQoZWRFYARBQCQtaZUMRV1YGVAsKFxYNBQ%3D%3D&rst=35105&ck=1&ref=https://www.4cgold.co.uk/admin.php")
			.headers(headers_0)
			.body(RawFileBody("/retentions/0034_request.txt")))

	setUp(scn.inject(atOnceUsers(2))).protocols(httpProtocol)
}